From 657cd480d6e370774ae4660736445eab27521fff Mon Sep 17 00:00:00 2001
From: Violet Purcell <vimproved@inventati.org>
Date: Sat, 3 Aug 2024 10:44:26 -0400
Subject: [PATCH 1/1] 01-reverts

---
 dlls/kernel32/kernel32.spec     |  2 --
 dlls/kernelbase/kernelbase.spec |  4 ++--
 dlls/kernelbase/version.c       | 28 ----------------------------
 3 files changed, 2 insertions(+), 32 deletions(-)

diff --git a/dlls/kernel32/kernel32.spec b/dlls/kernel32/kernel32.spec
index 179d49ba7cb..2fd05c7a5dc 100644
--- a/dlls/kernel32/kernel32.spec
+++ b/dlls/kernel32/kernel32.spec
@@ -776,8 +776,6 @@
 @ stdcall -import GetUserPreferredUILanguages(long ptr ptr ptr)
 @ stdcall GetPackageFamilyName(long ptr ptr) kernelbase.GetPackageFamilyName
 @ stdcall GetPackageFullName(long ptr ptr) kernelbase.GetPackageFullName
-@ stdcall GetPackagesByPackageFamily(wstr ptr ptr ptr ptr) kernelbase.GetPackagesByPackageFamily
-@ stdcall GetPackagePathByFullName(wstr ptr wstr) kernelbase.GetPackagePathByFullName
 @ stdcall -import GetPhysicallyInstalledSystemMemory(ptr)
 @ stdcall -import GetPriorityClass(long)
 @ stdcall GetPrivateProfileIntA(str str long str)
diff --git a/dlls/kernelbase/kernelbase.spec b/dlls/kernelbase/kernelbase.spec
index a133380a27a..14e4d5314b3 100644
--- a/dlls/kernelbase/kernelbase.spec
+++ b/dlls/kernelbase/kernelbase.spec
@@ -631,7 +631,7 @@
 # @ stub GetPackageInstallTime
 # @ stub GetPackageOSMaxVersionTested
 # @ stub GetPackagePath
-@ stdcall GetPackagePathByFullName(wstr ptr wstr)
+# @ stub GetPackagePathByFullName
 # @ stub GetPackagePathOnVolume
 # @ stub GetPackageProperty
 # @ stub GetPackagePropertyString
@@ -643,7 +643,7 @@
 # @ stub GetPackageStatusForUser
 # @ stub GetPackageTargetPlatformProperty
 # @ stub GetPackageVolumeSisPath
-@ stdcall GetPackagesByPackageFamily(wstr ptr ptr ptr ptr)
+# @ stub GetPackagesByPackageFamily
 @ stdcall GetPerformanceInfo(ptr long)
 @ stdcall GetPhysicallyInstalledSystemMemory(ptr)
 # @ stub GetPreviousFgPolicyRefreshInfoInternal
diff --git a/dlls/kernelbase/version.c b/dlls/kernelbase/version.c
index 0636634badb..ece0a2de27f 100644
--- a/dlls/kernelbase/version.c
+++ b/dlls/kernelbase/version.c
@@ -1602,34 +1602,6 @@ LONG WINAPI /* DECLSPEC_HOTPATCH */ GetPackageFamilyName( HANDLE process, UINT32
     return APPMODEL_ERROR_NO_PACKAGE;
 }
 
-/***********************************************************************
- *         GetPackagesByPackageFamily   (kernelbase.@)
- */
-LONG WINAPI DECLSPEC_HOTPATCH GetPackagesByPackageFamily(const WCHAR *family_name, UINT32 *count,
-                                                         WCHAR *full_names, UINT32 *buffer_len, WCHAR *buffer)
-{
-    FIXME( "(%s %p %p %p %p): stub\n", debugstr_w(family_name), count, full_names, buffer_len, buffer );
-
-    if (!count || !buffer_len)
-        return ERROR_INVALID_PARAMETER;
-
-    *count = 0;
-    *buffer_len = 0;
-    return ERROR_SUCCESS;
-}
-
-/***********************************************************************
- *         GetPackagePathByFullName   (kernelbase.@)
- */
-LONG WINAPI GetPackagePathByFullName(const WCHAR *name, UINT32 *len, WCHAR *path)
-{
-    if (!len || !name)
-        return ERROR_INVALID_PARAMETER;
-
-    FIXME( "(%s %p %p): stub\n", debugstr_w(name), len, path );
-
-    return APPMODEL_ERROR_NO_PACKAGE;
-}
 
 static const struct
 {
-- 
2.45.2

