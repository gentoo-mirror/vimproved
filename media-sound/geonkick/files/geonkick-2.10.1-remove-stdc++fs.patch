From f253f1307fcaa145736b4a0e9d03f2ba9a034858 Mon Sep 17 00:00:00 2001
From: Violet Purcell <vimproved@inventati.org>
Date: Sat, 23 Sep 2023 14:23:43 -0400
Subject: [PATCH] Remove linking against libstdc++fs

Signed-off-by: Violet Purcell <vimproved@inventati.org>
---
 src/plugin/lv2/CMakeLists.txt | 2 --
 src/plugin/vst/CMakeLists.txt | 1 -
 src/standalone/CMakeLists.txt | 1 -
 3 files changed, 4 deletions(-)

diff --git a/src/plugin/lv2/CMakeLists.txt b/src/plugin/lv2/CMakeLists.txt
index a1b1fbe..465cdd8 100644
--- a/src/plugin/lv2/CMakeLists.txt
+++ b/src/plugin/lv2/CMakeLists.txt
@@ -7,7 +7,6 @@ add_library(geonkick_lv2 SHARED
 
 set_target_properties(geonkick_lv2 PROPERTIES PREFIX "")
 target_link_libraries(geonkick_lv2  geonkick_common api_plugin redkite)
-target_link_libraries(geonkick_lv2 "-lstdc++fs")
 target_link_libraries(geonkick_lv2 "-lX11 -lsndfile -lssl -lcrypto -lrt -lm -ldl -lpthread -lcairo")
 add_dependencies(geonkick_lv2 api_plugin)
 add_dependencies(geonkick_lv2 redkite)
@@ -19,7 +18,6 @@ if (GKICK_PLUGIN)
     ${GKICK_LV2_SOURCES})
   set_target_properties(geonkick_single_lv2 PROPERTIES PREFIX "")
   target_link_libraries(geonkick_single_lv2  geonkick_common_single api_plugin_single redkite)
-  target_link_libraries(geonkick_single_lv2 "-lstdc++fs")
   target_link_libraries(geonkick_single_lv2 "-lX11 -lsndfile -lcrypto -lrt -lm -ldl -lpthread -lcairo")
   add_dependencies(geonkick_single_lv2 api_plugin_single)
   target_compile_options(geonkick_single_lv2 PUBLIC ${GKICK_API_PLUGIN_SINGLE_FLAGS})
diff --git a/src/plugin/vst/CMakeLists.txt b/src/plugin/vst/CMakeLists.txt
index 3abb713..13ff244 100644
--- a/src/plugin/vst/CMakeLists.txt
+++ b/src/plugin/vst/CMakeLists.txt
@@ -34,7 +34,6 @@ set_target_properties(${target} PROPERTIES OUTPUT_NAME "Geonkick")
 set_target_properties(${target} PROPERTIES SUFFIX ".so")
 
 target_link_libraries(${target} PRIVATE geonkick_common api_plugin redkite)
-target_link_libraries(${target} PRIVATE "-lstdc++fs")
 target_link_libraries(${target} PRIVATE base sdk sdk_common pluginterfaces)
 target_link_libraries(${target} PRIVATE "-lX11 -lsndfile -lcrypto -lrt -lm -ldl -lpthread -lcairo")
 target_link_libraries(${target} PRIVATE "-Wl,--no-undefined")
diff --git a/src/standalone/CMakeLists.txt b/src/standalone/CMakeLists.txt
index 9fa32f3..cc0aba8 100644
--- a/src/standalone/CMakeLists.txt
+++ b/src/standalone/CMakeLists.txt
@@ -8,7 +8,6 @@ add_executable(geonkick
 add_dependencies(geonkick api_standalone)
 add_dependencies(geonkick redkite)
 target_link_libraries(geonkick  geonkick_common api_standalone redkite)
-target_link_libraries(geonkick "-lstdc++fs")
 target_link_libraries(geonkick "-lX11 -ljack -lsndfile -lcrypto -lrt -lm -ldl -lpthread -lcairo")
 
 install(TARGETS geonkick DESTINATION ${CMAKE_INSTALL_PREFIX}/bin)
-- 
2.42.0

